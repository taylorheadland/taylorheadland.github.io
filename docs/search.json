[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Taylor Headland",
    "section": "",
    "text": "I’m a PhD student studying urban raptor ecology in Adelaide, South Australia. My project focuses on the Nankeen Kestrel, a small falcon that inhabits urban and rural areas, and how its ecology differs across the urban/rural gradient. I enjoy birding, and particularly enjoy searching for birds of prey. I;m passionate about using statistical programming (e.g. R) combined with citizen science observations (e.g. eBird, Birdata) to find patterns and trends of Australian raptor populations to aid in their conservation."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "Taylor Headland",
    "section": "",
    "text": "Ph. D. | Jun 2021 – Present\nFlinders University\n* Thesis: The Ecology of the Nankeen Kestrel across an urban/rural gradient\nHonours | Feb 2020 - Mar 2021\nUniversity of Adelaide\n* Thesis: Responses of Southern hairy-nosed wombats to drone flight\nBachelor of Science (Animal Science) | Mar 2016 - Nov 2019\nUniversity of Adelaide\n\n\n\n\n\nPostgraduate Research | Jun 2021 - Present\nCollege of Science and Engineering, Flinders University\nBird Surveys | Jan 2020 - Present\nBirds SA\nCity of Onkaparinga Council (with A Rocha Australia)\n\nVolunteer Field Work| Jan 2019 - Jun 2019\nGVI South Africa\nBushwise Field Guides South Africa"
  },
  {
    "objectID": "about.html#education",
    "href": "about.html#education",
    "title": "Taylor Headland",
    "section": "",
    "text": "Ph. D. | Jun 2021 – Present\nFlinders University\n* Thesis: The Ecology of the Nankeen Kestrel across an urban/rural gradient\nHonours | Feb 2020 - Mar 2021\nUniversity of Adelaide\n* Thesis: Responses of Southern hairy-nosed wombats to drone flight\nBachelor of Science (Animal Science) | Mar 2016 - Nov 2019\nUniversity of Adelaide"
  },
  {
    "objectID": "about.html#experience",
    "href": "about.html#experience",
    "title": "Taylor Headland",
    "section": "",
    "text": "Postgraduate Research | Jun 2021 - Present\nCollege of Science and Engineering, Flinders University\nBird Surveys | Jan 2020 - Present\nBirds SA\nCity of Onkaparinga Council (with A Rocha Australia)\n\nVolunteer Field Work| Jan 2019 - Jun 2019\nGVI South Africa\nBushwise Field Guides South Africa"
  },
  {
    "objectID": "publications.html",
    "href": "publications.html",
    "title": "Publications",
    "section": "",
    "text": "Headland, T., Ostendorf, B., & Taggart, D. (2021) The behavioral responses of a nocturnal burrowing marsupial (Lasiorhinus latifrons) to drone flight. Ecology and Evolution, 11, 12173– 12181. https://onlinelibrary.wiley.com/doi/full/10.1002/ece3.7981\nAbstract\nThe use of drones in wildlife research and management is increasing. Recent evidence has demonstrated the impact of drones on animal behavior, but the response of nocturnal animals to drone flight remains unknown. Utilizing a lightweight commercial drone, the behavioral response of southern hairy-nosed wombats (Lasiorhinus latifrons) to drone flights was observed at Kooloola Station, Swan Reach, South Australia. All wombats flown over during both day and night flights responded behaviorally to the presence of drones. The response differed based on time of day. The most common night-time behavior elicited by drone flight was retreat, compared to stationary alertness behavior observed for daytime drone flights. The behavioral response of the wombats increased as flight altitude decreased. The marked difference of behavior between day and night indicates that this has implications for studies using drones. The behavior observed during flights was altered due to the presence of the drone, and therefore, shrewd study design is important (i.e., acclimation period to drone flight). Considering the sensory adaptations of the target species and how this may impact its behavioral response when flying at night is essential."
  },
  {
    "objectID": "publications.html#section",
    "href": "publications.html#section",
    "title": "Publications",
    "section": "",
    "text": "Headland, T., Ostendorf, B., & Taggart, D. (2021) The behavioral responses of a nocturnal burrowing marsupial (Lasiorhinus latifrons) to drone flight. Ecology and Evolution, 11, 12173– 12181. https://onlinelibrary.wiley.com/doi/full/10.1002/ece3.7981\nAbstract\nThe use of drones in wildlife research and management is increasing. Recent evidence has demonstrated the impact of drones on animal behavior, but the response of nocturnal animals to drone flight remains unknown. Utilizing a lightweight commercial drone, the behavioral response of southern hairy-nosed wombats (Lasiorhinus latifrons) to drone flights was observed at Kooloola Station, Swan Reach, South Australia. All wombats flown over during both day and night flights responded behaviorally to the presence of drones. The response differed based on time of day. The most common night-time behavior elicited by drone flight was retreat, compared to stationary alertness behavior observed for daytime drone flights. The behavioral response of the wombats increased as flight altitude decreased. The marked difference of behavior between day and night indicates that this has implications for studies using drones. The behavior observed during flights was altered due to the presence of the drone, and therefore, shrewd study design is important (i.e., acclimation period to drone flight). Considering the sensory adaptations of the target species and how this may impact its behavioral response when flying at night is essential."
  },
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Blog",
    "section": "",
    "text": "Modelling the encounter rate of Wedge-tailed Eagles in South Australia\n\n\n\n\n\n\n\nModelling\n\n\nCitizen Science\n\n\nRaptors\n\n\n\n\nWho doesn’t love seeing a Wedgie soaring in the thermals?! Let’s find out where they are most likely to be seen in South Australia.\n\n\n\n\n \n\n\n\n\n  \n\n\n\n\nModelling the relative abundance of Wedge-tailed Eagles in South Australia\n\n\n\n\n\n\n\nModelling\n\n\nCitizen Science\n\n\nRaptors\n\n\n\n\nFollowing on from the last post, lets explore where Eagle numbers are the highest in South Australia.\n\n\n\n\n \n\n\n\n\nNo matching items"
  },
  {
    "objectID": "publications.html#section-1",
    "href": "publications.html#section-1",
    "title": "Publications",
    "section": "2023",
    "text": "2023\nHeadland, T., Colombelli-Négrel, D., Callaghan, C.T. et al. Smaller Australian raptors have greater urban tolerance. Sci Rep 13, 11559 (2023). https://doi.org/10.1038/s41598-023-38493-z\nAbstract\nUrbanisation is occurring around the world at a rapid rate and is generally associated with negative impacts on biodiversity at local, regional, and global scales. Examining the behavioural response profiles of wildlife to urbanisation helps differentiate between species that do or do not show adaptive responses to changing landscapes and hence are more or less likely to persist in such environments. Species-specific responses to urbanisation are poorly understood in the Southern Hemisphere compared to the Northern Hemisphere, where most of the published literature is focussed. This is also true for raptors, despite their high diversity and comparably high conservation concern in the Southern Hemisphere, and their critical role within ecosystems as bioindicators of environmental health. Here, we explore this knowledge gap using community science data sourced from eBird to investigate the urban tolerance of 24 Australian raptor species at a continental scale. We integrated eBird data with a global continuous measure of urbanisation, artificial light at night (ALAN), to derive an urban tolerance index, ranking species from positive to negative responses according to their tolerance of urban environments. We then gathered trait data from the published literature to assess whether certain traits (body mass, nest substrate, habitat type, feeding guild, and migratory status) were associated with urban tolerance. Body size was negatively associated with urban tolerance, as smaller raptors had greater urban tolerance than larger raptors. Out of the 24 species analysed, 13 species showed tolerance profiles for urban environments (positive response), and 11 species showed avoidance profiles for urban environments (negative response). The results of this study provide impetus to conserve native habitat and improve urban conditions for larger-bodied raptor species to conserve Australian raptor diversity in an increasingly urbanised world."
  },
  {
    "objectID": "blog/Wedge-tailed Eagle Analysis/index.html",
    "href": "blog/Wedge-tailed Eagle Analysis/index.html",
    "title": "Relative abundance of Wedge-tailed Eagles in South Australia",
    "section": "",
    "text": "Throughout the time that I’ve been undertaking my PhD I’ve gained skills in data science and statistical programming, particularly with the language R. I started learning R during my Honours year, but have been able to hone my skills during the PhD in terms of the complexity and scope of use. Although daunting at times, learning to code has been the most enjoyable part of my PhD and something that I look forward to hopefully doing as part of a job sometime in the future!\nIn this article I’m going to estimate the relative abundance of the Wedge-tailed Eagle in South Australia during the breeding season using data from the community science platform, eBird. This platform boasts a staggering 1.3 billion records of birds across the globe, and is an invaluable conservation resource to study bird populations and how they change across time and space. I decided on the Wedge-tailed Eagle, because as a birder that specifically studies raptors, you can’t get much cooler than an Eagle!\nThis analysis largely follows the work of Matt Strimas-Mackey and the wonderful work that he and the eBird team at Cornell University in America put together in the form of a best practices guide when working with eBird data. This has been an extremely helpful resource throughout my PhD and I couldn’t have done a few of my chapters without it! Here is a link to the resource: https://ebird.github.io/ebird-best-practices/\nEnough chit chat, lets get to the analysis!\nFirst up, lets load the packages and data required for the analysis.\n\nlibrary(tidyverse) #tidy data/wrangling\nlibrary(auk) #eBird data wrangling\nlibrary(ebirdst) #spatiotemporal subsampling\nlibrary(mccf1) # modelling\nlibrary(ranger) #modelling\nlibrary(scam) #modelling\nlibrary(sf) #spatial data operations\nlibrary(terra) #raster data operations\nlibrary(tidyterra) #raster plotting\nlibrary(scales) # pretty scales\nlibrary(paletteer) # colours for plotting\n\n\n# set random number seed to ensure fully repeatable results\nset.seed(1)\n\n# habitat variables: landcover and elevation\nhabitat &lt;- read_csv(here::here(\"data/WTE_Analysis/WTE_environmental-variables_checklists.csv\"))\n\n# zero-filled ebird data combined with habitat data\nchecklists &lt;- read_csv(here::here(\"data/WTE_Analysis/eBird_WedgeTailedEagle_zf_SA.csv\")) %&gt;% \n  inner_join(habitat, by = \"checklist_id\") %&gt;% \n  #subset to breeding season months\n  dplyr::mutate(month = month(observation_date)) %&gt;% \n  dplyr::filter(month %in% c(6, 7, 8, 9, 10, 11, 12))\n\nchecklists\n\n# A tibble: 29,386 × 52\n   checklist_id observer_id scientific_name observation_count species_observed\n   &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;                       &lt;dbl&gt; &lt;lgl&gt;           \n 1 S64372429    obs1458647  Aquila audax                    0 FALSE           \n 2 S61315220    obs1458647  Aquila audax                    0 FALSE           \n 3 S61317706    obs1458647  Aquila audax                    0 FALSE           \n 4 S61694299    obs1458647  Aquila audax                    0 FALSE           \n 5 S61784799    obs1458647  Aquila audax                    0 FALSE           \n 6 S71743238    obs162908   Aquila audax                    0 FALSE           \n 7 S145166100   obs107603   Aquila audax                    0 FALSE           \n 8 S145839592   obs107603   Aquila audax                    0 FALSE           \n 9 S145839867   obs107603   Aquila audax                    0 FALSE           \n10 S63019801    obs107603   Aquila audax                    0 FALSE           \n# ℹ 29,376 more rows\n# ℹ 47 more variables: country &lt;chr&gt;, state &lt;chr&gt;, locality &lt;chr&gt;,\n#   locality_id &lt;chr&gt;, longitude &lt;dbl&gt;, latitude &lt;dbl&gt;, protocol_type &lt;chr&gt;,\n#   all_species_reported &lt;lgl&gt;, observation_date &lt;date&gt;, year &lt;dbl&gt;,\n#   day_of_year &lt;dbl&gt;, hours_of_day &lt;dbl&gt;, effort_hours &lt;dbl&gt;,\n#   effort_distance_km &lt;dbl&gt;, effort_speed_kmph &lt;dbl&gt;, number_observers &lt;dbl&gt;,\n#   elevation_mean &lt;dbl&gt;, elevation_sd &lt;dbl&gt;, ed_c00_water &lt;dbl&gt;, …\n\n# prediction grid\npred_grid &lt;- read_csv(here::here(\"data/WTE_Analysis/WTE_environmental-variables_prediction-grid.csv\"))\n\nr &lt;- rast(here::here(\"data/WTE_Analysis/WTE_prediction-grid.tif\")) %&gt;% \n  # this second rast() call removes all the values from the raster template\n  rast()\ncrs &lt;- st_crs(r)\n\nLets also load in a shapefile of South Australia so that we can make pretty looking maps of our predictions.\n\nSA &lt;- read_sf(here::here(\"data/WTE_Analysis/South_Australia.shp\"))\n\nData within community science programs are often subject to spatial and temporal biases. Australia represents a fantastic example of spatial sampling bias, as illustrated below by the figure. The majority of eBird checklists fall into coastal areas where people live, instead of being evenly distributed across the landscape. Checklists also follow things like roads, which is evident by the line of checklists spanning the Stuart Highway from mid-South Australia up to the Northern Territory. People are usually more available on weekends to contribute to community science projects, and there are studies that document this ‘Weekend effect’. To minimise these biases, we will perform spatiotemporal subsampling to the data by selecting a checklist for every week of the available data within a defined 3x3 km grid cell.\n\n\nclass       : SpatRaster \ndimensions  : 1448, 1440, 1  (nrow, ncol, nlyr)\nresolution  : 0.008333333, 0.008333333  (x, y)\nextent      : 129, 141, -38.06667, -26  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \nsource      : elevation_SA.tif \nname        : elevation_1KMmd_GMTEDmd \nmin value   :                   -14.0 \nmax value   :                  1358.5 \n\n\n\n\n\n\n\nBefore we subsample the data, we will split the data into a testing and training set. We will use 80% of the data to train the model, and the remaining 20% to test it.\n\nchecklists &lt;- checklists %&gt;% \n  mutate(type = if_else(runif(nrow(.)) &lt;= 0.8, \"train\", \"test\"))\n\ntable(checklists$type) / nrow(checklists)\n\n\n     test     train \n0.2010141 0.7989859 \n\n\nNow we subsample the data.\n\n# sample one checklist per 3km x 3km x 1 week grid for each year\n# sample detection/non-detection independently \nchecklists_ss &lt;- grid_sample_stratified(checklists,\n                                        obs_column = \"species_observed\",\n                                        sample_by = \"type\")\n\nWe will hold the training data separate and select the predictors for the model.\n\nchecklists_train &lt;- checklists_ss %&gt;% \n  filter(type == \"train\") %&gt;% \n  # select only the columns to be used in the model\n  select(species_observed, observation_count,\n         year, day_of_year, hours_of_day,\n         effort_hours, effort_distance_km, effort_speed_kmph,\n         number_observers, \n         starts_with(\"pland_\"),\n         starts_with(\"ed_\"),\n         starts_with(\"elevation_\"))\n\nNow we are ready to model the data! We will use random forest models to achieve a prediction for the relative abundance of Wedge-tailed Eagles across Australia. The first model is a classification random forest that will achieve a measure of encounter rate, which is the probability of an eBirder encountering a species, in our case a Wedge-tailed Eagle, on a standard eBird checklist.\n\n# calculate detection frequency for the balance random forest\ndetection_freq &lt;- mean(checklists_train$species_observed)\n\n# train a random forest model for encounter rate\ntrain_er &lt;- select(checklists_train, -observation_count)\ner_model &lt;- ranger(formula =  as.factor(species_observed) ~ ., \n                   data = train_er,\n                   importance = \"impurity\",\n                   probability = TRUE,\n                   replace = TRUE,\n                   sample.fraction = c(detection_freq, detection_freq))\n\n# select the mcc-f1 optimizing occurrence threshold\nobs_pred &lt;- tibble(obs = as.integer(train_er$species_observed), \n                   pred = er_model$predictions[, 2])\nmcc_f1 &lt;- mccf1(response = obs_pred$obs, predictor = obs_pred$pred)\nmcc_f1_summary &lt;- summary(mcc_f1)\n\n mccf1_metric best_threshold\n    0.3178958      0.6819302\n\nthreshold &lt;- mcc_f1_summary$best_threshold[1]\n\n# calibration model\ncalibration_model &lt;- scam(obs ~ s(pred, k = 6, bs = \"mpi\"), \n                          gamma = 2,\n                          data = obs_pred)\n\ndfasfa\n\n# attach the predicted encounter rate based on out of bag samples\ntrain_count &lt;- checklists_train\ntrain_count$pred_er &lt;- er_model$predictions[, 2]\n# subset to only observed or predicted detections\ntrain_count &lt;- train_count %&gt;% \n  filter(!is.na(observation_count),\n         observation_count &gt; 0 | pred_er &gt; threshold) %&gt;% \n  select(-species_observed, -pred_er)\n\njhvjhv\n\npredicted_er &lt;- predict(er_model, data = train_count, type = \"response\")\npredicted_er &lt;- predicted_er$predictions[, 2]\ntrain_count$predicted_er &lt;- predicted_er\n\nfgchg\n\ncount_model &lt;- ranger(formula = observation_count ~ .,\n                      data = train_count,\n                      importance = \"impurity\",\n                      replace = TRUE)\n\nAssessment\n\n# get the test set held out from training\nchecklists_test &lt;- filter(checklists_ss, type == \"test\") %&gt;% \n  mutate(species_observed = as.integer(species_observed)) %&gt;% \n  filter(!is.na(observation_count))\n\n# estimate encounter rate for test data\npred_er &lt;- predict(er_model, data = checklists_test, type = \"response\")\n# extract probability of detection\npred_er &lt;- pred_er$predictions[, 2]\n# convert to binary using the threshold\npred_binary &lt;- as.integer(pred_er &gt; threshold)\n# calibrate\npred_calibrated &lt;- predict(calibration_model, \n                           newdata = data.frame(pred = pred_er), \n                           type = \"response\") %&gt;% \n  as.numeric()\n# constrain probabilities to 0-1\npred_calibrated &lt;- pmin(pmax(pred_calibrated, 0), 1)\n\n# add predicted encounter rate required for count estimates\nchecklists_test$predicted_er &lt;- pred_er\n# estimate count\npred_count &lt;- predict(count_model, data = checklists_test, type = \"response\")\npred_count &lt;- pred_count$predictions\n\n# relative abundance is the product of encounter rate and count\npred_abundance &lt;- pred_calibrated * pred_count\n\n# combine all estimates together\nobs_pred_test &lt;- data.frame(\n  id = seq_along(pred_abundance),\n  # actual detection/non-detection\n  obs_detection = as.integer(checklists_test$species_observed),\n  obs_count = checklists_test$observation_count,\n  # model estimates\n  pred_binary = pred_binary,\n  pred_er = pred_calibrated,\n  pred_count = pred_count,\n  pred_abundance = pred_abundance\n)\n\nadsfdsfd\n\n# subset to only those checklists where detection is predicted\ndetections_test &lt;- filter(obs_pred_test, pred_binary &gt; 0)\n\n# count metrics\ncount_spearman &lt;- cor(detections_test$pred_count, \n                      detections_test$obs_count,\n                      method = \"spearman\")\nlog_count_pearson &lt;- cor(log(detections_test$pred_count + 1),\n                         log(detections_test$obs_count + 1),\n                         method = \"pearson\")\n\n# abundance metrics\nabundance_spearman &lt;- cor(detections_test$pred_abundance, \n                          detections_test$obs_count,\n                          method = \"spearman\")\nlog_abundance_pearson &lt;- cor(log(detections_test$pred_abundance + 1),\n                             log(detections_test$obs_count + 1),\n                             method = \"pearson\")\n\n# combine metrics together\nppms &lt;- tibble(\n  count_spearman = count_spearman,\n  log_count_pearson = log_count_pearson,\n  abundance_spearman = abundance_spearman,\n  log_abundance_pearson = log_abundance_pearson\n)\nknitr::kable(pivot_longer(ppms, everything()), digits = 3)\n\n\n\n\nname\nvalue\n\n\n\n\ncount_spearman\n0.283\n\n\nlog_count_pearson\n0.268\n\n\nabundance_spearman\n0.285\n\n\nlog_abundance_pearson\n0.311\n\n\n\n\n\nPredictions\n\npred_grid_eff &lt;- pred_grid %&gt;% \n  mutate(observation_date = ymd(\"2022-09-15\"),\n         year = year(observation_date),\n         day_of_year = yday(observation_date),\n         hours_of_day = 10.02,\n         effort_hours = 2,\n         effort_distance_km = 1,\n         effort_speed_kmph = 0.5,\n         number_observers = 1)\n\npred_grid_eff\n\n# A tibble: 109,160 × 41\n   cell_id       x        y elevation_mean elevation_sd ed_c00_water\n     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;          &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;\n 1     128 780490. 2662520.           570.         3.10            0\n 2     129 783490. 2662520.           566.         5.28            0\n 3     130 786490. 2662520.           556.         4.67            0\n 4     131 789490. 2662520.           553.         6.96            0\n 5     132 792490. 2662520.           554.         9.18            0\n 6     133 795490. 2662520.           552.         8.86            0\n 7     134 798490. 2662520.           547.         8.27            0\n 8     135 801490. 2662520.           544.         7.06            0\n 9     136 804490. 2662520.           551.         6.41            0\n10     137 807490. 2662520.           553.         5.21            0\n# ℹ 109,150 more rows\n# ℹ 35 more variables: pland_c00_water &lt;dbl&gt;,\n#   ed_c01_evergreen_needleleaf &lt;dbl&gt;, pland_c01_evergreen_needleleaf &lt;dbl&gt;,\n#   ed_c02_evergreen_broadleaf &lt;dbl&gt;, pland_c02_evergreen_broadleaf &lt;dbl&gt;,\n#   ed_c04_deciduous_broadleaf &lt;dbl&gt;, pland_c04_deciduous_broadleaf &lt;dbl&gt;,\n#   ed_c05_mixed_forest &lt;dbl&gt;, pland_c05_mixed_forest &lt;dbl&gt;,\n#   ed_c06_closed_shrubland &lt;dbl&gt;, pland_c06_closed_shrubland &lt;dbl&gt;, …\n\n\n\n# encounter rate estimate\npred_er &lt;- predict(er_model, data = pred_grid_eff, type = \"response\")\npred_er &lt;- pred_er$predictions[, 2]\n# binary prediction\npred_binary &lt;- as.integer(pred_er &gt; threshold)\n# apply calibration\npred_er_cal &lt;- predict(calibration_model, \n                       data.frame(pred = pred_er), \n                       type = \"response\") %&gt;% \n  as.numeric()\n\n# add predicted encounter rate required for count estimates\npred_grid_eff$predicted_er &lt;- pred_er\n# count estimate\npred_count &lt;- predict(count_model, data = pred_grid_eff, type = \"response\")\npred_count &lt;- pred_count$predictions\n\n# add estimates to prediction grid\npredictions &lt;- bind_cols(pred_grid_eff,\n                         in_range = pred_binary,\n                         encounter_rate = pred_er_cal,\n                         count = pred_count) %&gt;% \n  select(cell_id, x, y, in_range, encounter_rate, count) %&gt;% \n  mutate(encounter_rate = pmin(pmax(encounter_rate, 0), 1))\n\npredictions\n\n# A tibble: 109,160 × 6\n   cell_id       x        y in_range encounter_rate count\n     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;int&gt;          &lt;dbl&gt; &lt;dbl&gt;\n 1     128 780490. 2662520.        0          0.207 0.657\n 2     129 783490. 2662520.        0          0.214 0.660\n 3     130 786490. 2662520.        0          0.210 0.662\n 4     131 789490. 2662520.        0          0.215 0.677\n 5     132 792490. 2662520.        0          0.235 0.675\n 6     133 795490. 2662520.        0          0.227 0.687\n 7     134 798490. 2662520.        0          0.221 0.714\n 8     135 801490. 2662520.        0          0.217 0.683\n 9     136 804490. 2662520.        0          0.215 0.654\n10     137 807490. 2662520.        0          0.212 0.660\n# ℹ 109,150 more rows\n\n\nkbkjk\n\nr_pred &lt;- predictions %&gt;% \n  # estimate relative abundance\n  mutate(abundance = encounter_rate * count) %&gt;% \n  # convert to spatial features\n  st_as_sf(coords = c(\"x\", \"y\"), crs = crs) %&gt;% \n  select(in_range, encounter_rate, count, abundance) %&gt;% \n  # rasterize\n  rasterize(r, field = c(\"in_range\", \"encounter_rate\", \"count\", \"abundance\"),\n            fun = \"mean\") %&gt;% \n  setNames(c(\"in_range\", \"encounter_rate\", \"count\", \"abundance\"))\n\n# save the raster\n# 3 bands: encounter_rate, count, and relative abundance\nr_pred &lt;- writeRaster(r_pred, here::here(\"results/abundance_WTE.tif\"), \n                      overwrite = TRUE,\n                      gdal = \"COMPRESS=DEFLATE\")\n\nMapping\n\n# in range abundance\nr_plot &lt;- r_pred[[\"abundance\"]] * r_pred[[\"in_range\"]]\n\nbrks &lt;- ifel(r_pred[[\"abundance\"]] &gt; 0, r_pred[[\"abundance\"]], NA) |&gt; \n  global(fun = quantile, \n         probs = seq(0, 1, 0.1), na.rm = TRUE) |&gt; \n  as.numeric() |&gt; \n  unique()\n\nbrks\n\n [1] 0.05234145 0.13082217 0.14332475 0.14900494 0.15581167 0.16441117\n [7] 0.17449137 0.18947232 0.20413666 0.22506902 0.76427466\n\n# label the bottom, middle, and top value\nlbls &lt;- round(c(min(brks), median(brks), max(brks)), 2)\n# ebird status and trends color palette\npal &lt;- ebirdst_palettes(length(brks) - 1)\n\nggplot()+\n  geom_spatraster(data = r_plot, maxcell = Inf, alpha = 1)+\n  labs(title = \"Wedge-tailed Eagle relative abundance September 2022\") +\n  scale_fill_gradientn(colours = pal,\n                       breaks = brks,\n                       labels = round(brks, 3)) +\n  theme(panel.background = element_rect(fill = \"lightblue\"),\n        legend.title = element_text(angle = 90),\n        legend.title.align = 0.5,\n        legend.direction = \"vertical\")+\n  guides(fill=guide_colorbar(ticks.colour = NA,\n                             barwidth = 3, \n                             barheight = 15, \n                             title.position = \"right\"))\n\n\n\n\nlbls &lt;- round(c(min(brks), median(brks), max(brks)), 2)\n# ebird status and trends color palette\npal &lt;- ebirdst_palettes(length(brks) - 1)\n\nggplot()+\n  geom_spatraster(data = r_plot, maxcell = Inf, alpha = 1)+\n  scale_fill_paletteer_c(\"viridis::magma\", breaks = brks, labels = lbls)+\n  theme_bw()+\n  labs(title = \"Wedge-tailed Eagle relative abundance September 2022\")+\n  scale_fill_gradientn(colors = pal,\n                       breaks = brks,\n                       labels = lbls) +\n  theme(panel.background = element_rect(fill = \"lightblue\"),\n        legend.title = element_text(angle = 90),\n        legend.title.align = 0.5,\n        legend.direction = \"vertical\")+\n  guides(fill=guide_colorbar(ticks.colour = NA,\n                             barwidth = 3, \n                             barheight = 15, \n                             title.position = \"right\"))"
  },
  {
    "objectID": "blog/Wedge-tailed Eagle Analysis Encounter Rate/index.html",
    "href": "blog/Wedge-tailed Eagle Analysis Encounter Rate/index.html",
    "title": "Modelling the encounter rate of Wedge-tailed Eagles in South Australia",
    "section": "",
    "text": "Throughout the time that I’ve been undertaking my PhD I’ve gained skills in data science and statistical programming, particularly with the language R. I started learning R during my Honours year, but have been able to hone my skills during the PhD in terms of the complexity and scope of use. Although daunting at times, learning to code has been the most enjoyable part of my PhD and something that I look forward to hopefully doing as part of a job sometime in the future!\nIn this article I’m going to estimate the encounter rate of the Wedge-tailed Eagle in South Australia during the breeding season using data from the community science platform, eBird. This platform boasts a staggering 1.3 billion records of birds across the globe, and is an invaluable conservation resource to study bird populations and how they change across time and space. I decided on the Wedge-tailed Eagle, because as a birder that specifically studies raptors, you can’t get much cooler than an Eagle!\nThis analysis largely follows the work of Matt Strimas-Mackey and the wonderful work that he and the eBird team at Cornell University in America put together in the form of a best practices guide when working with eBird data. This has been an extremely helpful resource throughout my PhD and I couldn’t have done a few of my chapters without it! Here is a link to the resource: https://ebird.github.io/ebird-best-practices/\nEnough chit chat, lets get to the analysis!\nFirst up, lets load the packages and data required for the analysis.\n\nlibrary(tidyverse) #tidy data/wrangling\nlibrary(auk) #eBird data wrangling\nlibrary(ebirdst) #spatiotemporal subsampling\nlibrary(mccf1) # modelling\nlibrary(ranger) #modelling\nlibrary(scam) #modelling\nlibrary(sf) #spatial data operations\nlibrary(terra) #raster data operations\nlibrary(tidyterra) #raster plotting\nlibrary(scales) # pretty scales\nlibrary(paletteer) # colours for plotting\n\n\n# set random number seed to ensure fully repeatable results\nset.seed(1)\n\n# habitat variables: landcover and elevation\nhabitat &lt;- read_csv(here::here(\"data/WTE_Analysis/WTE_environmental-variables_checklists.csv\"))\n\n# zero-filled ebird data combined with habitat data\nchecklists &lt;- read_csv(here::here(\"data/WTE_Analysis/eBird_WedgeTailedEagle_zf_SA.csv\")) %&gt;% \n  inner_join(habitat, by = \"checklist_id\") %&gt;% \n  #subset to breeding season months\n  dplyr::mutate(month = month(observation_date)) %&gt;% \n  dplyr::filter(month %in% c(6, 7, 8, 9, 10, 11, 12))\n\n# prediction grid\npred_grid &lt;- read_csv(here::here(\"data/WTE_Analysis/WTE_environmental-variables_prediction-grid.csv\"))\n\nr &lt;- rast(here::here(\"data/WTE_Analysis/WTE_prediction-grid.tif\")) \ncrs &lt;- st_crs(r)\n\nLets also load in a shapefile of South Australia so that we can make pretty looking maps of our predictions.\n\nSA &lt;- read_sf(here::here(\"data/WTE_Analysis/South_Australia.shp\"))\n\nData within community science programs are often subject to spatial and temporal biases, as well as large class imbalances. Australia represents a fantastic example of spatial sampling bias, as illustrated below by the figure. The majority of eBird checklists fall into coastal areas where people live, instead of being evenly distributed across the landscape. Checklists also follow things like roads, which is evident by the line of checklists spanning the Stuart Highway from mid-South Australia up to the Northern Territory. People are usually more available on weekends to contribute to community science projects, and there are studies that document this ‘Weekend effect’ (see here). And lastly, there are usually many more non-detections than detection present for many species within the eBird dataset, leading to class imbalance. To minimise these biases, we will perform spatiotemporal subsampling to the data by selecting a checklist for every week of the available data within a defined 3x3 km grid cell.\n\n\nclass       : SpatRaster \ndimensions  : 1448, 1440, 1  (nrow, ncol, nlyr)\nresolution  : 0.008333333, 0.008333333  (x, y)\nextent      : 129, 141, -38.06667, -26  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \nsource      : elevation_SA.tif \nname        : elevation_1KMmd_GMTEDmd \nmin value   :                   -14.0 \nmax value   :                  1358.5 \n\n\n\n\n\nBefore we subsample the data, we will split the data into a testing and training set. We will use 80% of the data to train the model, and the remaining 20% to test it.\n\nchecklists &lt;- checklists %&gt;% \n  mutate(type = if_else(runif(nrow(.)) &lt;= 0.8, \"train\", \"test\"))\n\ntable(checklists$type) / nrow(checklists)\n\n\n     test     train \n0.2010141 0.7989859 \n\n\nNow we subsample the data.\n\n# sample one checklist per 3km x 3km x 1 week grid for each year\n# sample detection/non-detection independently \nchecklists_ss &lt;- grid_sample_stratified(checklists,\n                                        obs_column = \"species_observed\",\n                                        sample_by = \"type\")\n\nWe will hold the training data separate and select the predictors for the model.\n\nchecklists_train &lt;- checklists_ss %&gt;% \n  filter(type == \"train\") %&gt;% \n  # select only the columns to be used in the model\n  select(species_observed, observation_count,\n         year, day_of_year, hours_of_day,\n         effort_hours, effort_distance_km, effort_speed_kmph,\n         number_observers, \n         starts_with(\"pland_\"),\n         starts_with(\"ed_\"),\n         starts_with(\"elevation_\"))\n\nNow we are ready to model the data! We will use a random forest model to achieve a prediction for the encounter rate of Wedge-tailed Eagles across South Australia. This is a classification model that will measure the probability of an eBirder encountering a species, in our case a Wedge-tailed Eagle, on a standard eBird checklist (undefined.undefinedundefined"
  }
]